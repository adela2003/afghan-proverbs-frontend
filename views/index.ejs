<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Afghan Proverbs</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr"
      crossorigin="anonymous"
    />

    <link
      href="https://fonts.googleapis.com/css2?family=Vazirmatn&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/css/font.css" />
    <link rel="stylesheet" href="/css/style.css" />
  </head>
  <body class="container py-4">
    <%- include('partials/header') %>

    <header class="hero text-center mb-4">
      <h2>گنجینه ضرب‌المثل‌های افغانی</h2>
      <p>
        مجموعه‌ای از حکمت و فرهنگ افغانستان در قالب ضرب‌المثل‌های زیبا و پربار
      </p>
      <button
        class="btn btn-light text-dark m-3 fw-bold"
        data-bs-toggle="modal"
        data-bs-target="#addProverbModal"
      >
        افزودن ضرب‌المثل
      </button>
      <a href="/" class="btn btn-outline-light ms-2">مشاهده همه</a>
    </header>
    <!-- Filter Buttons -->
    <div class="d-flex flex-wrap justify-content-center category-btns mb-2">
      <button class="btn">همه</button>
      <button class="btn">خانواده</button>
      <button class="btn">دوستی</button>
      <button class="btn">زندگی</button>
      <button class="btn">حکمت</button>
    </div>
    <!-- search input -->
    <div class="search-box mb-4 text-center">
      <input
        type="text"
        placeholder="جستجوی ضرب‌المثل..."
        class="form-control w-75 mx-auto shadow-sm"
      />
    </div>
    <!-- Proverbs Cards -->
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-5">
      <% proverbs.forEach(p => { %>
      <div
        class="col-md-6 col-sm proverb-card"
        data-category="<%= p.category %>"
      >
        <div class="card h-100">
          <div class="card-body">
            <span class="badge"><%= p.category %></span>
            <h5 class="card-title small"><%= p.textDari %></h5>
            <p class="card-text small"><%= p.textPashto %></p>
            <p class="card-text text-muted small"><%= p.meaning %></p>
            <p class="card-text small"><%= p.translationEn %></p>
          </div>
          <div
            class="card-footer bg-white border-top-0 d-flex justify-content-between"
          >
            <a
              href="#viewModal-<%= p.id %>"
              class="btn btn-sm btn-outline-info"
              data-bs-toggle="modal"
            >
              نمایش
            </a>
            <a
              href="#editModal-<%= p.id %>"
              class="btn btn-sm btn-outline-warning"
              data-bs-toggle="modal"
            >
              ویرایش
            </a>
            <a
              href="#deleteModal-<%= p.id %>"
              class="btn btn-sm btn-outline-danger"
              data-bs-toggle="modal"
            >
              حذف
            </a>
          </div>
        </div>
      </div>
      <!-- Edit/Show/Delete Modal from Partials -->
      <%- include('partials/edit-modal', { p: p }) %> <%-
      include('partials/view-modal', { p: p }) %> <%-
      include('partials/delete-modal', { p: p }) %> <% }) %>
    </div>

    <!-- Partials/Add Modal -->
    <%- include('partials/add-modal') %>
    <!-- Daily Proverb Section -->
    <section class="container my-5">
      <div
        class="daily-proverb p-5 text-center rounded-4 bg-gradient-purple text-white"
      >
        <h5 class="mb-3 fw-bold">ضرب‌المثل روز</h5>
        <div class="content fs-5">
          <div id="dailyProverbText">
            <p class="mb-2">آب در کوزه و ما تشنه لبان می‌گردیم</p>
          </div>
          <p id="dailyProverbMeaning" class="mb-4" style="font-size: 0.8rem">
            گاهی آنچه به دنبالش هستیم، نزدیکی ماست اما ما از آن غافلیم
          </p>
        </div>

        <button
          id="nextProverbBtn"
          class="btn btn-light btn-sm px-4 fw-semibold"
        >
          ضرب‌المثل دیگر
        </button>
      </div>
    </section>

    <!-- Bootstrap JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
      crossorigin="anonymous"
    ></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="/js/script.js"></script>
    <%- include('partials/footer') %>
  </body>
</html>
